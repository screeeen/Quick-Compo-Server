(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(64)},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),c=a.n(l),o=a(69),i=a(2),s=a(3),u=a(5),m=a(4),p=a(6),d=a(70),h=a(14),g=a(16),f=a.n(g),E=new(function(){function e(){Object(i.a)(this,e),this.auth=f.a.create({baseURL:"https://quick-compo.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/signup",{username:t,password:a}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),b=r.a.createContext(),y=b.Consumer,v=b.Provider,O=function(e){return function(t){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(y,null,function(a){return r.a.createElement(e,Object.assign({login:a.login,signup:a.signup,user:a.user,logout:a.logout,isLoggedin:a.isLoggedin},t.props))})}}]),a}(n.Component)},j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0,currentTournament:void 0,currentTournamentName:""},a.signup=function(e){var t=e.username,n=e.password;E.signup({username:t,password:n}).then(function(e){a.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;a.setState({message:t.statusMessage})})},a.login=function(e){var t=e.username,n=e.password;E.login({username:t,password:n}).then(function(e){a.setState({isLoggedin:!0,user:e})}).catch(function(){})},a.logout=function(){E.logout().then(function(){a.setState({isLoggedin:!1,user:null})}).catch(function(){})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then(function(t){e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(v,{value:{isLoggedin:a,user:n,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(n.Component),N=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;"SignUp"===a.state.credentialsType?a.props.signup({username:n,password:r}):a.props.login({username:n,password:r})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.state={handleFormSubmit:e.handleFormSubmit,credentialsType:e.credentialsType,username:"",password:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"credentials"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("h2",null,this.state.credentialsType),r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("input",{className:"button",type:"submit",value:this.state.credentialsType})))}}]),t}(n.Component)),S=a(65),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Quick Compo"),r.a.createElement(N,{handleFormSubmit:!0,credentialsType:"Signup"}),r.a.createElement("p",null,"Already have account?",r.a.createElement(S.a,{to:"/login"}," Login")))}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Quick Compo"),r.a.createElement(N,{handleFormSubmit:!0,credentialsType:"Login"}),r.a.createElement("p",null,"You don't have an account?",r.a.createElement(S.a,{to:"/signup"}," Register")))}}]),t}(n.Component),k=a(34),C=a(9),L=a(8),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.isLoggedin;return r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",null,r.a.createElement(C.a,{icon:L.a,color:"white",className:"fa-2x",onClick:function(){return e.props.history.go(-1)}})),n?r.a.createElement("div",null,r.a.createElement("p",null,a.username)):null,r.a.createElement("div",null,r.a.createElement(C.a,{icon:L.h,className:"fa-2x",color:"white"})))}}]),t}(n.Component),x=O(Object(k.a)(w)),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggleCompetitionButton=function(){a.state.disable?a.setState({disable:!1}):a.setState({disable:!0})},a.state={tournament:a.props.tournament,disable:!1},console.log("footer state",a.state),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement(S.a,{to:{pathname:"/tournaments"},onClick:this.toggleCompetitionButton},this.state.disable?r.a.createElement(C.a,{icon:L.b,className:"fa-2x",color:"grey"}):r.a.createElement(C.a,{icon:L.b,className:"fa-2x",color:"white"})),r.a.createElement(S.a,{to:{pathname:"/leaderboard"},onClick:this.toggleCompetitionButton},this.state.disable?r.a.createElement(C.a,{icon:L.f,className:"fa-2x",color:"white"}):r.a.createElement(C.a,{icon:L.f,className:"fa-2x",color:"grey"})))}}]),t}(n.Component),P=O(Object(k.a)(D)),R=a(21),F=a(66),A=a(67);var M=O(function(e){var t=e.component,a=e.isLoggedin,n=Object(R.a)(e,["component","isLoggedin"]);return r.a.createElement(F.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(A.a,{to:"/login"})}}))});var _=O(function(e){var t=e.component,a=e.isLoggedin,n=Object(R.a)(e,["component","isLoggedin"]);return r.a.createElement(F.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(A.a,{to:"/tournaments"}):r.a.createElement(t,e)}}))}),U=a(17),B=a(36),G=a(18);var q=O(function(e){return r.a.createElement("div",{className:"tournament-cell"},r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement("img",{src:e.img,alt:"pic"})),r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement(S.a,{to:{pathname:"/players",state:{tournamentId:e._id}}},r.a.createElement("p",{className:"player-name"},e.name))),r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement(S.a,{to:{pathname:"/players",state:{tournamentId:e._id}}},r.a.createElement(C.a,{icon:L.i}))),r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement("p",null,e.players.length)),r.a.createElement("div",{className:"tournament-cell-section"}),r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement(S.a,{to:{pathname:"/tournaments/edit-tournament/".concat(e._id),state:{tournamentId:e._id}}},r.a.createElement(C.a,{icon:L.d}))),r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement(S.a,{to:{pathname:"/tournaments/delete-tournament/".concat(e._id),state:{tournamentId:e._id}}},r.a.createElement(C.a,{icon:L.e}))))});var W=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"tournament-cell no-background"},r.a.createElement("div",null,r.a.createElement("p",null,e.firstTitle)),r.a.createElement("div",null,r.a.createElement("p",null,e.secondTitle)),r.a.createElement("div",null,r.a.createElement("p",null,e.thirdTitle)),r.a.createElement("div",null,r.a.createElement("p",null,e.fourthTitle)),r.a.createElement("div",null,r.a.createElement("p",null,e.fifthTitle)),r.a.createElement("div",null,r.a.createElement("p",null,e.sixthTitle)),r.a.createElement("div",null,r.a.createElement("p",null,e.seventhTitle))))};function Y(e){return r.a.createElement("div",{className:"ribbon-wrap"},r.a.createElement("h1",{className:"ribbon"},r.a.createElement("strong",{className:"ribbon-content"},e.name)))}function J(){return r.a.createElement("div",{className:"ribbon-wrap"},r.a.createElement(S.a,{to:{pathname:"/tournaments/add-tournament"}},r.a.createElement("button",{className:"button"},"ADD A NEW TOURNAMENT")))}var Q=new(function(){function e(){Object(i.a)(this,e),this.calls=f.a.create({baseURL:"https://quick-compo.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"getPlayersOfTournament",value:function(e){return this.calls.get("/api/players/intoTournament/"+e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"addPlayer",value:function(e){return this.calls.post("/api/players/add-player",e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"getPlayers",value:function(){return this.calls.get("/api/players").then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"modifyPlayer",value:function(e,t){return this.calls.put("/api/players/".concat(t),{score:e}).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"getTournamentbyId",value:function(e){return this.calls.get("/api/tournaments/"+e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"editTournament",value:function(e,t){return this.calls.put("/api/tournaments/edit/"+e,t).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"deleteTournament",value:function(e,t){return console.log("thing delete",t),this.calls.delete("/api/tournaments/delete/"+e,t).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"handleFormSubmitAddTournament",value:function(e){return this.calls.post("/api/tournaments/add-tournament",e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"getTournaments",value:function(){return this.calls.get("/api/tournaments").then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"getGames",value:function(){return this.calls.get("/api/games").then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"getRounds",value:function(e,t){return console.log("before: ",e,t),this.calls.post("/api/games/add-all-games",{tournamentId:e,players:t}).then(function(e){return e}).catch(function(e){return console.log(e)})}}]),e}()),H=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).generateTournamentsList=function(){return a.state.tournaments.slice(0).reverse().map(function(e,t){var a=e.name,n=e.img,l=e.players,c=e.games,o=e._id;return r.a.createElement(q,{className:"fadeIn",key:t,name:a,img:n,players:l,games:c,_id:o})})},a.checkIfLogged=function(){return a.state.loggedIn?r.a.createElement("div",{className:"container-tournaments"},r.a.createElement(J,null),r.a.createElement(Y,{name:"TOURNAMENTS"}),r.a.createElement(W,{secondTitle:"tournament",thirdTitle:"add",fourthTitle:"players",sixthTitle:"edit",seventhTitle:"delete"}),a.generateTournamentsList()):r.a.createElement(B.a,{to:"/error"})},a.state={loggedIn:!0,tournaments:[],currentTournamentId:"",currentTournamentName:"",currentTournamentImg:"",currentTournamentPlayers:[],currentTournamentGames:[]},a.updateCurrentTournament=a.updateCurrentTournament.bind(Object(U.a)(Object(U.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q.getTournaments().then(function(t){var a=t.data;e.setState({tournaments:a})})}},{key:"updateCurrentTournament",value:function(e){var t=e.name,a=e.img,n=e.players,r=e.games,l=e.id;console.log("hoola?? update current tournament?"),this.setState({currentTournamentId:l,currentTournamentName:t,currentTournamentImg:a,currentTournamentPlayers:n,currentTournamentGames:r})}},{key:"render",value:function(){return r.a.createElement(G.a,{exact:!0,path:"/tournaments",render:this.checkIfLogged})}}]),t}(n.Component)),V=new(function(){function e(){Object(i.a)(this,e),this.imageUploader=f.a.create({baseURL:"https://quick-compo.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"uploadImage",value:function(e){return this.imageUploader.post("/api/tournaments/upload-image",e).then(function(e){return e.data})}}]),e}()),z=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),Q.handleFormSubmitAddTournament(a.state).then(function(e){a.setState({name:"",img:"",redirect:!0})})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(A.a,{to:{pathname:"/tournaments",state:a.state}})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),V.uploadImage(n).then(function(e){a.setState({img:e,disable:!1})}).catch(function(e){return console.log(e)})},a.state={name:"",img:"",players:[],games:[],redirect:!1,disable:!0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.renderRedirect(),r.a.createElement(Y,{name:"ADD NEW TOURNAMENT"}),r.a.createElement("form",{className:"pop-up-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",placeholder:"your team name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:this.fileOnchange}),r.a.createElement("label",{htmlFor:"file",className:"inputfile-icon"},r.a.createElement(C.a,{className:"inputfile-icon fa-3x",icon:L.g,disabled:!this.state.disable}),r.a.createElement("img",{className:"tournament-image",src:this.state.img,alt:"",disabled:!this.state.disable})),this.state.disable?r.a.createElement(r.a.Fragment,null):r.a.createElement("input",{type:"submit",className:"button",value:"create team"})))}}]),t}(n.Component)),K=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),Q.editTournament(a.state.tournamentId,a.state).then(function(e){a.setState({name:"",img:"",redirect:!0})})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(A.a,{to:"/tournaments"})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),V.uploadImage(n).then(function(e){a.setState({img:e,disable:!1})}).catch(function(e){return console.log(e)})},a.state={name:"",img:"",players:[],games:[],redirect:!1,tournamentId:e.location.state},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q.getTournamentbyId(this.props.location.state.tournamentId).then(function(t){var a=t.data,n=a.name,r=a.img,l=a.players,c=a.games,o=a._id;e.setState({name:n,img:r,players:l,games:c,tournamentId:o})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.renderRedirect(),r.a.createElement(Y,{name:"EDIT TOURNAMENT"}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"pop-up-form"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:this.fileOnchange}),r.a.createElement("label",{htmlFor:"file"},r.a.createElement("img",{className:"tournament-image",src:this.state.img,alt:"",disabled:!0})),this.state.disable?r.a.createElement("img",{className:"tournament-image-small",src:this.state.img,alt:"",disabled:!0}):null,this.state.disable?r.a.createElement("input",{type:"submit",disabled:!0}):r.a.createElement("input",{type:"submit"}))))}}]),t}(n.Component)),X=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),Q.deleteTournament(a.state.tournamentId,a.state).then(function(e){a.setState({name:"",img:"",redirect:!0})})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(A.a,{to:"/tournaments"})},a.state={name:"",img:"",players:[],games:[],redirect:!1,tournamentId:e.location.state},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q.getTournamentbyId(this.props.location.state.tournamentId).then(function(t){var a=t.data,n=a.name,r=a.img,l=a.players,c=a.games,o=a._id;e.setState({name:n,img:r,players:l,games:c,tournamentId:o})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},this.renderRedirect(),r.a.createElement(Y,{name:"DELETE TOURNAMENT"}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"pop-up-form"},r.a.createElement("label",null,"Tournament Name:"),r.a.createElement("label",null,this.state.name),r.a.createElement("label",{htmlFor:"file"},r.a.createElement("img",{className:"tournament-image",src:this.state.img,alt:""})),r.a.createElement("img",{className:"tournament-image-small",src:this.state.img,alt:""}),r.a.createElement("p",null,"Warning! you will lose your data")),r.a.createElement("button",{className:"button red-bg",type:"submit"},"delete")))}}]),t}(n.Component));var Z=O(function(e){return r.a.createElement("div",{className:"tournament-cell"},r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement("img",{src:e.img,alt:"pic"})),r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement("p",null,e.name)),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("div",{className:"tournament-cell-section"},r.a.createElement("p",null,e.score)))}),$=a(68),ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.img,l=t.position,c=t.score,o=a.props.location.state.tournamentId;Q.addPlayer({name:n,img:r,position:l,score:c,tournamentId:o}).then(function(e){a.props.getPlayers(),a.setState({name:"",img:"",redirect:!1})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),V.uploadImage(n).then(function(e){a.setState({img:e,disable:!1})}).catch(function(e){return console.log(e)})},a.state={name:"",img:"",position:-1,score:0,tournament:a.props.currentTournament,redirect:!1,disable:!0,uploadIcon:L.c},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q.getTournamentbyId(this.props.location.state.tournamentId).then(function(t){var a=t.data,n=a.name,r=a.img,l=a.players,c=a.games,o=a._id;e.setState({tournamentName:n,tournamentImage:r,tournamentPlayers:l,tournamentGames:c,tournamentId:o})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tournament-form"},r.a.createElement("img",{src:this.props.img,alt:""}),r.a.createElement("form",{className:"pop-up-form",onSubmit:this.handleSubmit},r.a.createElement("label",null,"enter player details"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:"name of player",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:this.fileOnchange}),r.a.createElement("label",{htmlFor:"file"},this.state.disable?r.a.createElement(C.a,{className:"inputfile-icon fa-3x",icon:L.c,disabled:this.state.disable}):r.a.createElement("img",{className:"tournament-image-small",src:this.state.img,alt:""})),this.state.disable?r.a.createElement(r.a.Fragment,null):r.a.createElement("input",{className:"button",type:"submit",value:"add"})))}}]),t}(n.Component),te=Object($.a)(O(ee)),ae=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).refreshPlayersList=function(){Q.getPlayersOfTournament(a.props.location.state.tournamentId).then(function(e){var t=e.data.players;a.setState({playersIntoTournament:t})})},a.togglePlayButton=function(){var e=a.state.playersIntoTournament.length;if(e>=4&&e%2===0){var t=a.state.playersIntoTournament;return r.a.createElement("div",null,r.a.createElement(S.a,{to:{pathname:"/games",state:{tournament:a.state.tournamentId,players:t}}},r.a.createElement("button",{className:"button"},"START GAMES")))}},a.generatePlayersList=function(){return a.state.playersIntoTournament.map(function(e,t){var a=e.name,n=e.img,l=e.position,c=e.score,o=e._id;return r.a.createElement(Z,{className:"fadeIn",key:t,name:a,img:n,position:l,score:c,_id:o})})},a.state={loggedIn:!0,tournament:a.props.currentTournament,tournamentId:a.props.location.state,playersIntoTournament:[]},console.log("el state",a.state),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.refreshPlayersList()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Y,{name:"current players"}),r.a.createElement(W,{secondTitle:"name",seventhTitle:"score"}),r.a.createElement("div",{className:"container-tournaments"},this.generatePlayersList()),r.a.createElement(te,{getPlayers:this.refreshPlayersList}),this.togglePlayButton())}}]),t}(n.Component)),ne=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={tournament:e.tournament},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,{to:{pathname:"/game-edit/",state:{tournament:this.props.tournament.tournamentId,player1Id:this.props.player1Id,player2Id:this.props.player2Id,player1:this.props.player1,player2:this.props.player2,player1Score:this.props.player1Score,player2Score:this.props.player2Score,player1Img:this.props.player1Img,player2Img:this.props.player2Img}}},r.a.createElement("div",{className:"game-cell"},this.props.player1&&this.props.player2?r.a.createElement("div",null,r.a.createElement("div",{className:"player-card"},r.a.createElement("p",null,this.props.player1),r.a.createElement("img",{className:"tournament-image-small",src:this.props.player1Img,alt:""}),r.a.createElement("h2",null,"VS."),r.a.createElement("img",{className:"tournament-image-small",src:this.props.player2Img,alt:""}),r.a.createElement("p",null,this.props.player2)),r.a.createElement("div",{className:"gap"}),r.a.createElement("div",{className:"player-card scores-line"},r.a.createElement("p",null,"SCORE: ",this.props.player1Score),r.a.createElement("p",null,"SCORE: ",this.props.player2Score))):r.a.createElement("p",null,"NOT READY YET")))}}]),t}(n.Component)),re=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).refreshList=function(){var e=a.props.location.state,t=e.tournament,n=e.players;Q.getRounds(t.tournamentId,n).then(function(e){var t=e.data.games;a.setState({games:t})},function(){a.generateList()})},a.generateList=function(){return a.state.games.map(function(e,t){var n=e.player1,l=e.player2,c=e.winner,o=e._id,i=a.props.location.state.tournament;return r.a.createElement(ne,{key:t,player1:n.name,player2:l.name,player1Id:n._id,player2Id:l._id,player1Img:n.img,player2Img:l.img,player1Score:n.score,player2Score:l.score,winner:c,_id:o,tournament:i})})},a.state={loggedIn:!0,games:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.refreshList()}},{key:"render",value:function(){return console.log("games list state",this.state),r.a.createElement("div",{className:"container"},r.a.createElement(Y,{name:"GAMES"}),r.a.createElement("div",{className:"games-tables"},this.generateList()))}}]),t}(n.Component)),le=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).renderRedirect=function(){if(a.state.redirect)return a.props.history.go(-1)},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.player1Score,r=t.player2Score,l=t.player1Id,c=t.player2Id;t.tournament;Q.modifyPlayer(n,l).then(function(e){a.setState({player1Score:0})}),Q.modifyPlayer(r,c).then(function(e){a.setState({player2Score:0,redirect:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.state={tournament:e.location.state.tournament,player1Id:e.location.state.player1Id,player2Id:e.location.state.player2Id,player1Img:e.location.state.player1Img,player2Img:e.location.state.player2Img,player1Score:0,player2Score:0,redirect:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-tournaments"},this.renderRedirect(),r.a.createElement(Y,{name:"edit scores"}),r.a.createElement("div",{className:""},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("img",{className:"tournament-image-small",src:this.props.location.state.player1Img,alt:""}),r.a.createElement("p",null,this.props.location.state.player1),r.a.createElement("input",{type:"number",name:"player1Score",value:this.state.player1Score,placeholder:this.state.player1Score,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("img",{className:"tournament-image-small",src:this.props.location.state.player2Img,alt:""}),r.a.createElement("p",null,this.props.location.state.player2),r.a.createElement("input",{type:"number",name:"player2Score",value:this.state.player2Score,placeholder:this.state.player2Score,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{onClick:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"submit"}))))))}}]),t}(n.Component)),ce=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component);var oe=O(function(e){return console.log("leaderboardcell props",e),r.a.createElement("div",null,r.a.createElement("div",{className:"tournament-cell"},r.a.createElement("img",{src:e.img,alt:"pic"}),r.a.createElement("p",{className:"tournament-name"},e.name),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("p",{className:"tournament-name"},e.score)))}),ie=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).refreshList=function(){Q.getPlayers().then(function(e){var t=e.data;a.setState({players:t})},function(){a.generateList()})},a.generateList=function(){return a.state.players.sort(function(e,t){return t.score-e.score}).map(function(e,t){var a=e.name,n=e.img,l=e.score;return r.a.createElement(oe,{key:t,name:a,img:n,score:l})})},a.state={players:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.refreshList()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-tournaments"},r.a.createElement(Y,{name:"HALL OF FAME"}),r.a.createElement(W,{secondTitle:"player",seventhTitle:"score"}),r.a.createElement("div",{className:"games-tables"},this.generateList()))}}]),t}(n.Component)),se=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(j,null,r.a.createElement("div",{className:"container-wrapper"},r.a.createElement(M,{path:"/",component:x}),r.a.createElement(d.a,null,r.a.createElement(_,{exact:!0,path:"/",component:T}),r.a.createElement(_,{exact:!0,path:"/signup",component:T}),r.a.createElement(_,{exact:!0,path:"/login",component:I}),r.a.createElement(M,{exact:!0,path:"/tournaments",component:H}),r.a.createElement(M,{exact:!0,path:"/brackets",component:ce}),r.a.createElement(M,{exact:!0,path:"/tournaments/edit-tournament/:id",component:K}),r.a.createElement(M,{exact:!0,path:"/tournaments/add-tournament",component:z}),r.a.createElement(M,{exact:!0,path:"/tournaments/delete-tournament/:id",component:X}),r.a.createElement(M,{exact:!0,path:"/players",component:ae}),r.a.createElement(M,{exact:!0,path:"/games",component:re}),r.a.createElement(M,{exact:!0,path:"/game-edit",component:le}),r.a.createElement(M,{exact:!0,path:"/leaderboard",component:ie})),r.a.createElement(M,{path:"/",component:P})))}}]),t}(n.Component);c.a.render(r.a.createElement(o.a,null,r.a.createElement(se,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.08cfbbd2.chunk.js.map