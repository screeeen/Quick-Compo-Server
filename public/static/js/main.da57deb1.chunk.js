(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/court.e778dbef.gif"},28:function(e,t,n){e.exports=n.p+"static/media/back.c7f74c8c.svg"},29:function(e,t,n){e.exports=n.p+"static/media/user.31354796.svg"},33:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(26),o=n.n(u),c=n(65),i=n(2),s=n(3),l=n(5),m=n(4),p=n(6),h=n(66),d=n(11),g=n(61),f=n(14),b=n.n(f),E=new(function(){function e(){Object(i.a)(this,e),this.auth=b.a.create({baseURL:"https://project3-react-3.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),v=r.a.createContext(),O=v.Consumer,y=v.Provider,j=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(O,null,function(n){return r.a.createElement(e,Object.assign({currentTournament:n.currentTournament,currentTournamentName:n.currentTournamentName,setCurrentTournament:n.setCurrentTournament,login:n.login,signup:n.signup,user:n.user,logout:n.logout,isLoggedin:n.isLoggedin},t.props))})}}]),n}(a.Component)},T=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0,currentTournament:void 0,currentTournamentName:""},n.setCurrentTournament=function(e,t,a){"set"===a?n.setState({currentTournament:e,currentTournamentName:t}):"clear"===a&&n.setState({currentTournament:void 0,currentTournamentName:""})},n.signup=function(e){var t=e.username,a=e.password;E.signup({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;n.setState({message:t.statusMessage})})},n.login=function(e){var t=e.username,a=e.password;E.login({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(){})},n.logout=function(){E.logout().then(function(){n.setState({isLoggedin:!1,user:null})}).catch(function(){})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then(function(t){e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,u=e.currentTournament,o=e.currentTournamentName;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(y,{value:{isLoggedin:n,user:a,currentTournament:u,currentTournamentName:o,setCurrentTournament:this.setCurrentTournament,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(a.Component),C=j(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.signup({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(d.a)({},a,r))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?",r.a.createElement(g.a,{to:"/login"}," Login")))}}]),t}(a.Component)),S=n(27),N=n.n(S),L=j(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(d.a)({},a,r))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"container login"},r.a.createElement("div",{className:"splashImg"},r.a.createElement("img",{src:N.a,alt:"img"})),r.a.createElement("h1",null,"Quick Compo"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{className:"input-field",type:"text",name:"username",value:t,placeholder:"username",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:n,placeholder:"password",onChange:this.handleChange}),r.a.createElement("input",{className:"button",type:"submit",value:"Login"})))}}]),t}(a.Component)),k=n(18),w=n(62),A=n(63);var D=j(function(e){var t=e.component,n=e.isLoggedin,a=Object(k.a)(e,["component","isLoggedin"]);return r.a.createElement(w.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(A.a,{to:"/login"})}}))});var I=j(function(e){var t=e.component,n=e.isLoggedin,a=Object(k.a)(e,["component","isLoggedin"]);return r.a.createElement(w.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(A.a,{to:"/tournaments"}):r.a.createElement(t,e)}}))}),x=n(31),R=n(15),P=n(64),F=n(28),U=n.n(F),M=n(29),Y=n.n(M),_=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.isLoggedin;return r.a.createElement("div",{className:"navBar"},r.a.createElement("button",{className:"back-button",onClick:function(){return e.props.history.go(-1)}},r.a.createElement("img",{src:U.a,alt:"back"})),a?r.a.createElement("div",{className:"userDiv"},r.a.createElement("p",null,n.username),r.a.createElement("img",{className:"userPic",src:Y.a,alt:"user"})):null)}}]),t}(a.Component),W=j(Object(P.a)(_));var B=j(function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"tournament-cell"},r.a.createElement("img",{src:e.img,alt:"pic"}),r.a.createElement("p",null,"PLAYERS IN: ",e.players.length),r.a.createElement(g.a,{to:{pathname:"/tournaments/edit-tournament/".concat(e._id)}},r.a.createElement("p",null,"EDIT"))))}),J=new(function(){function e(){Object(i.a)(this,e),this.calls=b.a.create({baseURL:"https://project3-react-3.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"getPlayersOfTournament",value:function(e){return this.calls.get("/api/players/intoTournament/"+e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"handleFormSubmitAddPlayer",value:function(e){return this.calls.post("/api/players/add-player",e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"handleFormSubmitEditTournament",value:function(e){return this.calls.put("/api/tournaments/edit/"+e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"handleFormSubmitAddTournament",value:function(e){return this.calls.post("/api/tournaments/add-tournament",e).then(function(e){return e}).catch(function(e){return console.log(e)})}},{key:"getTournaments",value:function(){return this.calls.get("http://localhost:5000/api/tournaments").then(function(e){return e}).catch(function(e){return console.log(e)})}}]),e}()),Q=j(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).generateTournamentsList=function(){return n.state.tournaments.slice(0).reverse().map(function(e,t){var n=e.name,a=e.img,u=e.players,o=e.games,c=e._id;return r.a.createElement(B,{key:t,name:n,img:a,players:u,games:o,_id:c})})},n.checkIfLogged=function(){return n.state.loggedIn?r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement("div",{className:"tournamentList"},r.a.createElement("button",null,r.a.createElement(g.a,{to:"/tournaments/add-tournament"},"ADD A NEW TOURNAMENT")),r.a.createElement("h2",null,"TOURNAMENTS"),n.generateTournamentsList())):r.a.createElement(x.a,{to:"/error"})},n.state={loggedIn:!0,tournaments:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;J.getTournaments().then(function(t){var n=t.data;e.setState({tournaments:n})})}},{key:"render",value:function(){return r.a.createElement(R.a,{exact:!0,path:"/tournaments",render:this.checkIfLogged})}}]),t}(a.Component)),q=new(function(){function e(){Object(i.a)(this,e),this.imageUploader=b.a.create({baseURL:"http://localhost:5000",withCredentials:!0})}return Object(s.a)(e,[{key:"uploadImage",value:function(e){return this.imageUploader.post("/api/tournaments/upload-image",e).then(function(e){return e.data})}}]),e}()),z=j(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),J.handleFormSubmitAddTournament(n.state).then(function(e){n.props.setCurrentTournament(e.data._id,e.data.name,"set"),n.setState({name:"",img:"",redirect:!0})})},n.renderRedirect=function(){if(n.state.redirect)return r.a.createElement(A.a,{to:"/players"})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(d.a)({},a,r))},n.fileOnchange=function(e){var t=e.target.files[0],a=new FormData;a.append("photo",t),q.uploadImage(a).then(function(e){n.setState({img:e,disable:!1})}).catch(function(e){return console.log(e)})},console.log("ADD TOURNAMENT props: ",e),n.state={name:"",img:"",players:[],games:[],redirect:!1,disable:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.renderRedirect(),r.a.createElement(W,null),r.a.createElement("h2",null,"NEW TOURNAMENT"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),(this.disable,r.a.createElement("img",{src:this.state.img,alt:"",disabled:!0})),this.disable?r.a.createElement("input",{type:"submit",disabled:!0}):r.a.createElement("input",{type:"submit"})))}}]),t}(a.Component)),G=j(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),console.log("event: ",e),J.handleFormSubmitEditTournament("".concat(n.props.setCurrentTournament)).then(function(e){n.props.setCurrentTournament(e.data._id,e.name,"set"),n.setState({name:"",img:"",redirect:!0})})},n.renderRedirect=function(){if(n.state.redirect)return r.a.createElement(A.a,{to:"/tournaments"})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(d.a)({},a,r))},n.fileOnchange=function(e){var t=e.target.files[0],a=new FormData;a.append("photo",t),console.log("shit",a,t),q.uploadImage(a).then(function(e){n.setState({img:e,disable:!1})}).catch(function(e){return console.log(e)})},console.log("EDIT TOURNAMENT props: ",e),n.state={name:"",img:"",players:[],games:[],redirect:!1},console.log("EDIT TOURNAMENT state: ",n.state),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.renderRedirect(),r.a.createElement(W,null),r.a.createElement("h2",null,"EDIT TOURNAMENT"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:this.props.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),this.disable?r.a.createElement("input",{type:"submit",disabled:!0}):r.a.createElement("input",{type:"submit"})))}}]),t}(a.Component));var H=j(function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"tournament-cell"},r.a.createElement("img",{src:e.img,alt:"pic"}),r.a.createElement("p",{className:"tournament-name"},e.name)))}),K=j(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),J.handleFormSubmitAddPlayer(n.state).then(function(e){n.props.getPlayers(),n.setState({name:"",img:"",redirect:!1})})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(d.a)({},a,r))},n.fileOnchange=function(e){var t=e.target.files[0],a=new FormData;a.append("photo",t),q.uploadImage(a).then(function(e){n.setState({img:e,disable:!1})}).catch(function(e){return console.log(e)})},console.log("PLAYER props: ",e),n.state={name:"",img:"",position:-1,score:[],tournament:n.props.currentTournament,redirect:!1,disable:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("img",{src:this.props.img,alt:""}),r.a.createElement("h2",null,this.props.currentTournamentName),r.a.createElement("h2",null,"ADD A NEW PLAYER"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",value:this.state.name,placeholder:"name of player",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),(this.disable,r.a.createElement("img",{src:this.state.img,alt:"",disabled:!0})),this.disable?r.a.createElement("input",{type:"submit",disabled:!0}):r.a.createElement("input",{type:"submit"}),"        "))}}]),t}(a.Component)),V=j(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).refreshList=function(){J.getPlayersOfTournament("".concat(n.props.currentTournament)).then(function(e){var t=e.data;n.setState({playersIntoTournament:t})},function(){n.generatePlayersList()})},n.generatePlayersList=function(){n.state.playersIntoTournament.players&&n.state.playersIntoTournament.players.map(function(e){var t=e.name;return console.log(e,t),r.a.createElement("p",null,t)})},console.log("PLAYER LIST props",e),n.state={loggedIn:!0,tournament:n.props.currentTournament,playersIntoTournament:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.refreshList()}},{key:"render",value:function(){var e=this.state.playersIntoTournament.players;return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(K,{getPlayers:this.refreshList}),r.a.createElement("div",null,r.a.createElement("h2",null,"PLAYERS"),e&&e.map(function(e,t){return r.a.createElement(H,{key:t,name:e.name,img:e.img})})))}}]),t}(a.Component)),X=j(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"games page"))}}]),t}(a.Component)),Z=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(a.Component),$=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(T,null,r.a.createElement("div",{className:"container"},r.a.createElement(h.a,null,r.a.createElement(I,{exact:!0,path:"/",component:L}),r.a.createElement(I,{exact:!0,path:"/signup",component:C}),r.a.createElement(I,{exact:!0,path:"/login",component:L}),r.a.createElement(D,{exact:!0,path:"/tournaments",component:Q}),r.a.createElement(D,{exact:!0,path:"/brackets",component:Z}),r.a.createElement(D,{exact:!0,path:"/tournaments/edit-tournament/:id",component:G}),r.a.createElement(D,{exact:!0,path:"/tournaments/add-tournament",component:z}),r.a.createElement(D,{exact:!0,path:"/players",component:V}),r.a.createElement(D,{exact:!0,path:"/games",component:X}))))}}]),t}(a.Component);o.a.render(r.a.createElement(c.a,null,r.a.createElement($,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.da57deb1.chunk.js.map